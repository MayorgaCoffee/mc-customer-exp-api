<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:as2-mule4="http://www.mulesoft.org/schema/mule/as2-mule4"
	xmlns:crypto="http://www.mulesoft.org/schema/mule/crypto"
	xmlns:apikit="http://www.mulesoft.org/schema/mule/mule-apikit"
	xmlns:email="http://www.mulesoft.org/schema/mule/email"
	xmlns:tls="http://www.mulesoft.org/schema/mule/tls"
	xmlns:secure-properties="http://www.mulesoft.org/schema/mule/secure-properties"
	xmlns:adtalem-core="http://www.mulesoft.org/schema/mule/adtalem-core"
	xmlns:api-gateway="http://www.mulesoft.org/schema/mule/api-gateway"
	xmlns:json-logger="http://www.mulesoft.org/schema/mule/json-logger"
	xmlns:http="http://www.mulesoft.org/schema/mule/http"
	xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="
http://www.mulesoft.org/schema/mule/mule-apikit http://www.mulesoft.org/schema/mule/mule-apikit/current/mule-apikit.xsd 
http://www.mulesoft.org/schema/mule/email http://www.mulesoft.org/schema/mule/email/current/mule-email.xsd 
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd http://www.mulesoft.org/schema/mule/core 
http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/json-logger http://www.mulesoft.org/schema/mule/json-logger/current/mule-json-logger.xsd
http://www.mulesoft.org/schema/mule/api-gateway http://www.mulesoft.org/schema/mule/api-gateway/current/mule-api-gateway.xsd
http://www.mulesoft.org/schema/mule/adtalem-core http://www.mulesoft.org/schema/mule/adtalem-core/current/mule-adtalem-core.xsd
http://www.mulesoft.org/schema/mule/secure-properties http://www.mulesoft.org/schema/mule/secure-properties/current/mule-secure-properties.xsd
http://www.mulesoft.org/schema/mule/tls http://www.mulesoft.org/schema/mule/tls/current/mule-tls.xsd
http://www.mulesoft.org/schema/mule/crypto http://www.mulesoft.org/schema/mule/crypto/current/mule-crypto.xsd
http://www.mulesoft.org/schema/mule/as2-mule4 http://www.mulesoft.org/schema/mule/as2-mule4/current/mule-as2-mule4.xsd">
	<http:listener-config
		name="mc-customer-exp-api-listener-config"
		doc:name="HTTP Listener config"
		doc:id="af500fd2-9ffe-4a80-8c69-b0b6a83c247a">
		<http:listener-connection host="${https.host}"
			port="${https.port}" readTimeout="${https.readTimeout}"
			protocol="HTTPS" tlsContext="tls-context" />
	</http:listener-config>
	<apikit:config name="mc-customer-exp-api-config"
		api="resource::d5150cda-4592-478a-b718-23ff3e2b60a3:mc-customer-exp-api:1.0.0:raml:zip:mc-customer-exp-api.raml"
		outboundHeadersMapName="outboundHeaders"
		httpStatusVarName="httpStatus" />
	<http:request-config
		name="mc-document-prc-api-request-config"
		doc:name="HTTP Request configuration"
		doc:id="7217142b-8d66-440b-8fb4-2e60ae7f5e77"
		basePath="${https.request.basePath}">
		<http:request-connection
			host="${https.request.host}" port="${https.request.port}"
			protocol="HTTPS" />
	</http:request-config>
	<as2-mule4:listener-config
		name="as2-connector-listener-config"
		doc:name="AS2 Connector Listener config"
		doc:id="8888a98e-00ff-45fa-9806-70cfa7e89244"
		httpListenerConfig="mc-customer-exp-api-listener-config">
		<as2-mule4:self-config as2Name="Mayorga"
			x509Alias="mayorga-receiver" email="test@gmail.com" />
		<as2-mule4:partner-config as2Name="Costco"
			x509Alias="costco-sender-public" email="test1@gmail.com" />
		<as2-mule4:key-store-config
			keystorePassword="MuleSoft@123"
			keystorePath="certs/mayorga-keystore.jks"
			privateKeyPassword="MuleSoft@123" />
	</as2-mule4:listener-config>
	<crypto:pgp-config name="crypto-pgp"
		doc:name="Crypto Pgp" doc:id="aa385a30-64e6-4d0b-99e5-3ad319cd9b4e"
		publicKeyring="${crypto.public_keyring}"
		privateKeyring="${crypto.private_keyring}">
		<crypto:pgp-key-infos>
			<crypto:pgp-asymmetric-key-info
				keyId="${secure::crypto.keyId}"
				fingerprint="${secure::crypto.fingerprint}"
				passphrase="${secure::crypto.passphrase}" />
		</crypto:pgp-key-infos>
	</crypto:pgp-config>
	<configuration doc:name="Configuration"
		doc:id="da15166a-5d9d-4b77-a80d-4743c6e90e45"
		defaultErrorHandler-ref="common-exception-handler" />
	<configuration-properties
		doc:name="Configuration properties"
		doc:id="77d40699-0746-4cbf-a9b5-b9460b401894"
		file="properties/config-${mule.env}.yaml" />
	<configuration-properties
		doc:name="Configuration properties"
		doc:id="dd661869-d2fe-461c-85f2-4dd2c7f7243f"
		file="properties\common\common.yaml" />
	<secure-properties:config
		name="secure-properties-config" doc:name="Secure Properties Config"
		doc:id="e497bea3-0c06-460a-8566-fbf1dc49b199"
		file="properties/secure/config-${mule.env}-secure.yaml"
		key="${mule.key}" />
	<tls:context name="tls-context" doc:name="TLS Context"
		doc:id="201f3f77-679a-4eac-b410-4cf4fb781a4e">
		<tls:key-store type="${cert.type}" path="${cert.path}"
			alias="${cert.alias}" keyPassword="${secure::cert.keyPassword}"
			password="${secure::cert.password}" />
	</tls:context>
	
</mule>